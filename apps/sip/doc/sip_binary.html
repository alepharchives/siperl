<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html>
<head>
<title>Module sip_binary</title>
<link rel="stylesheet" type="text/css" href="stylesheet.css" title="EDoc">
</head>
<body bgcolor="white">
<div class="navbar"><a name="#navbar_top"></a><table width="100%" border="0" cellspacing="0" cellpadding="2" summary="navigation bar"><tr><td><a href="overview-summary.html" target="overviewFrame">Overview</a></td><td><a href="http://www.erlang.org/"><img src="erlang.png" align="right" border="0" alt="erlang logo"></a></td></tr></table></div>
<hr>

<h1>Module sip_binary</h1>
<ul class="index"><li><a href="#description">Description</a></li><li><a href="#index">Function Index</a></li><li><a href="#functions">Function Details</a></li></ul>Utility functions to work with binary strings.
<p>Copyright © 2011 Ivan Dubrov. See LICENSE file.
  ----------------------------------------------------------------</p>

<p><b>Authors:</b> Ivan Dubrov (<a href="mailto:dubrov.ivan@gmail.com"><tt>dubrov.ivan@gmail.com</tt></a>).</p>

<h2><a name="description">Description</a></h2><p>Utility functions to work with binary strings</p>
  
   Parsing SIP basic elements, checking if character is in given
   class, etc.
<h2><a name="index">Function Index</a></h2>
<table width="100%" border="1" cellspacing="0" cellpadding="2" summary="function index"><tr><td valign="top"><a href="#addr_to_binary-1">addr_to_binary/1</a></td><td>Convert address (IPv4, IPv6 or hostname) to binary string.</td></tr>
<tr><td valign="top"><a href="#any_to_binary-1">any_to_binary/1</a></td><td>Convert atoms, binaries, integers or strings to binary.</td></tr>
<tr><td valign="top"><a href="#binary_to_existing_atom-1">binary_to_existing_atom/1</a></td><td>Convert binary to existing atom.</td></tr>
<tr><td valign="top"><a href="#binary_to_float-1">binary_to_float/1</a></td><td>Convert UTF-8 binary to floating point number.</td></tr>
<tr><td valign="top"><a href="#binary_to_hexstr-1">binary_to_hexstr/1</a></td><td>Convert binary to hex string.</td></tr>
<tr><td valign="top"><a href="#binary_to_integer-1">binary_to_integer/1</a></td><td>Convert UTF-8 binary to integer.</td></tr>
<tr><td valign="top"><a href="#float_to_binary-1">float_to_binary/1</a></td><td>Convert floating point number to ASCII binary.</td></tr>
<tr><td valign="top"><a href="#hexstr_to_binary-1">hexstr_to_binary/1</a></td><td>Convert binary hex string to binary.</td></tr>
<tr><td valign="top"><a href="#integer_to_binary-1">integer_to_binary/1</a></td><td>Convert integer to ASCII binary.</td></tr>
<tr><td valign="top"><a href="#is_alpha_char-1">is_alpha_char/1</a></td><td>Check if character is alpha.</td></tr>
<tr><td valign="top"><a href="#is_alphanum_char-1">is_alphanum_char/1</a></td><td>Check if character is alphanumeric.</td></tr>
<tr><td valign="top"><a href="#is_digit_char-1">is_digit_char/1</a></td><td>Check if character is digit.</td></tr>
<tr><td valign="top"><a href="#is_reserved_char-1">is_reserved_char/1</a></td><td>Check if character is <code>reserved</code> character.</td></tr>
<tr><td valign="top"><a href="#is_space_char-1">is_space_char/1</a></td><td>Check if character is one of the space characters (space, tab, line feed, carriage return).</td></tr>
<tr><td valign="top"><a href="#is_token_char-1">is_token_char/1</a></td><td>Check if character is <code>token</code> character (as specified in RFC 3261 25.1).</td></tr>
<tr><td valign="top"><a href="#is_unreserved_char-1">is_unreserved_char/1</a></td><td>Check if character is <code>unreserved</code> character.</td></tr>
<tr><td valign="top"><a href="#is_user_unreserved_char-1">is_user_unreserved_char/1</a></td><td>Check if character is <code>user-unreserved</code> character.</td></tr>
<tr><td valign="top"><a href="#parse_comment_string-1">parse_comment_string/1</a></td><td>Parse <code>comment</code> from the UTF-8 binary string.</td></tr>
<tr><td valign="top"><a href="#parse_host_port-1">parse_host_port/1</a></td><td>Parse <code>host [":" port]</code> expressions.</td></tr>
<tr><td valign="top"><a href="#parse_ip_address-1">parse_ip_address/1</a></td><td>Parse IP address.</td></tr>
<tr><td valign="top"><a href="#parse_number-1">parse_number/1</a></td><td>Parse number from the binary and return the rest.</td></tr>
<tr><td valign="top"><a href="#parse_quoted_string-1">parse_quoted_string/1</a></td><td>Parse <code>quoted-string</code> from the UTF-8 binary string.</td></tr>
<tr><td valign="top"><a href="#parse_token-1">parse_token/1</a></td><td>Extract <code>token</code> from the UTF-8 binary string.</td></tr>
<tr><td valign="top"><a href="#parse_until-2">parse_until/2</a></td><td>Parse binary until given predicate function evaluates to <code>true</code> or until given character is encountered.</td></tr>
<tr><td valign="top"><a href="#parse_while-2">parse_while/2</a></td><td>Parse binary while given predicate function evaluates to <code>true</code></td></tr>
<tr><td valign="top"><a href="#quote_string-1">quote_string/1</a></td><td>Generate quoted string.</td></tr>
<tr><td valign="top"><a href="#to_lower-1">to_lower/1</a></td><td>Convert binary UTF-8 encoded string to lowercase.</td></tr>
<tr><td valign="top"><a href="#to_upper-1">to_upper/1</a></td><td>Convert binary UTF-8 encoded string to uppercase.</td></tr>
<tr><td valign="top"><a href="#trim-1">trim/1</a></td><td>Trim both trailing and leading whitespaces from the binary string.</td></tr>
<tr><td valign="top"><a href="#trim_leading-1">trim_leading/1</a></td><td>Trim leading whitespaces from the binary string.</td></tr>
<tr><td valign="top"><a href="#trim_trailing-1">trim_trailing/1</a></td><td>Trim trailing whitespaces from the binary string.</td></tr>
</table>

<h2><a name="functions">Function Details</a></h2>

<h3 class="function"><a name="addr_to_binary-1">addr_to_binary/1</a></h3>
<div class="spec">
<p><tt>addr_to_binary(Str::<a href="inet.html#type-ip_address">inet:ip_address()</a> | string()) -&gt; binary()</tt><br></p>
</div><p>Convert address (IPv4, IPv6 or hostname) to binary string</p>

<h3 class="function"><a name="any_to_binary-1">any_to_binary/1</a></h3>
<div class="spec">
<p><tt>any_to_binary(Atom::atom() | binary() | integer() | float() | list() | <a href="inet.html#type-ip_address">inet:ip_address()</a>) -&gt; binary()</tt><br></p>
</div><p>Convert atoms, binaries, integers or strings to binary.</p>

<h3 class="function"><a name="binary_to_existing_atom-1">binary_to_existing_atom/1</a></h3>
<div class="spec">
<p><tt>binary_to_existing_atom(Bin::binary()) -&gt; atom() | binary()</tt><br></p>
</div><p><p>Convert binary to existing atom</p>
 
  Tries to convert binary to existing atom. If such atom does not exist,
  binary is returned as is.</p>

<h3 class="function"><a name="binary_to_float-1">binary_to_float/1</a></h3>
<div class="spec">
<p><tt>binary_to_float(Bin::binary()) -&gt; float()</tt><br></p>
</div><p>Convert UTF-8 binary to floating point number</p>

<h3 class="function"><a name="binary_to_hexstr-1">binary_to_hexstr/1</a></h3>
<div class="spec">
<p><tt>binary_to_hexstr(Bin::binary()) -&gt; binary()</tt><br></p>
</div><p><p>Convert binary to hex string</p>
 
  Convert binary to the hex string. For example, binary string
  <code>&lt;&lt;"hello"&gt;&gt;</code> will be converted to hex binary string <code>&lt;&lt;"68656c6c6f"&gt;&gt;</code>.</p>

<h3 class="function"><a name="binary_to_integer-1">binary_to_integer/1</a></h3>
<div class="spec">
<p><tt>binary_to_integer(Bin::binary()) -&gt; integer()</tt><br></p>
</div><p>Convert UTF-8 binary to integer</p>

<h3 class="function"><a name="float_to_binary-1">float_to_binary/1</a></h3>
<div class="spec">
<p><tt>float_to_binary(Float::float()) -&gt; binary()</tt><br></p>
</div><p><p>Convert floating point number to ASCII binary.</p>
 
  <em>Note that at most three digits after floating point are returned</em></p>

<h3 class="function"><a name="hexstr_to_binary-1">hexstr_to_binary/1</a></h3>
<div class="spec">
<p><tt>hexstr_to_binary(Bin::binary()) -&gt; binary()</tt><br></p>
</div><p><p>Convert binary hex string to binary</p>
 
  Convert binary hex string to binary. For example, binary hex string
  <code>&lt;&lt;"68656c6c6f"&gt;&gt;</code> will be converted to <code>&lt;&lt;"hello"&gt;&gt;</code>.
  <em>Note: binary hex string must have even number of digits</em></p>

<h3 class="function"><a name="integer_to_binary-1">integer_to_binary/1</a></h3>
<div class="spec">
<p><tt>integer_to_binary(Int::integer()) -&gt; binary()</tt><br></p>
</div><p>Convert integer to ASCII binary.</p>

<h3 class="function"><a name="is_alpha_char-1">is_alpha_char/1</a></h3>
<div class="spec">
<p><tt>is_alpha_char(C::integer()) -&gt; boolean()</tt><br></p>
</div><p><p>Check if character is alpha</p>
 
  <pre>  alphanum  =  ALPHA / DIGIT</pre></p>

<h3 class="function"><a name="is_alphanum_char-1">is_alphanum_char/1</a></h3>
<div class="spec">
<p><tt>is_alphanum_char(C::integer()) -&gt; boolean()</tt><br></p>
</div><p><p>Check if character is alphanumeric</p>
 
  <pre>  alphanum  =  ALPHA / DIGIT</pre></p>

<h3 class="function"><a name="is_digit_char-1">is_digit_char/1</a></h3>
<div class="spec">
<p><tt>is_digit_char(C::integer()) -&gt; boolean()</tt><br></p>
</div><p>Check if character is digit</p>

<h3 class="function"><a name="is_reserved_char-1">is_reserved_char/1</a></h3>
<div class="spec">
<p><tt>is_reserved_char(C::integer()) -&gt; boolean()</tt><br></p>
</div><p><p>Check if character is <code>reserved</code> character</p>
 
  <pre>  reserved    =  ";" / "/" / "?" / ":" / "@" / "&amp;" / "=" / "+"
                 / "$" / ","</pre></p>

<h3 class="function"><a name="is_space_char-1">is_space_char/1</a></h3>
<div class="spec">
<p><tt>is_space_char(C::integer()) -&gt; boolean()</tt><br></p>
</div><p>Check if character is one of the space characters (space, tab, line feed, carriage return)</p>

<h3 class="function"><a name="is_token_char-1">is_token_char/1</a></h3>
<div class="spec">
<p><tt>is_token_char(C::integer()) -&gt; boolean()</tt><br></p>
</div><p><p>Check if character is <code>token</code> character (as specified in RFC 3261 25.1)</p>
 
  <pre>  token          =  1*(alphanum / "-" / "." / "!" / "%" / "*"
                    / "_" / "+" / "`" / "'" / "~" )</pre></p>

<h3 class="function"><a name="is_unreserved_char-1">is_unreserved_char/1</a></h3>
<div class="spec">
<p><tt>is_unreserved_char(C::integer()) -&gt; boolean()</tt><br></p>
</div><p><p>Check if character is <code>unreserved</code> character</p>
 
  <pre>  unreserved  =  alphanum / mark
  mark        =  "-" / "_" / "." / "!" / "~" / "*" / "'"
                 / "(" / ")"</pre></p>

<h3 class="function"><a name="is_user_unreserved_char-1">is_user_unreserved_char/1</a></h3>
<div class="spec">
<p><tt>is_user_unreserved_char(C::integer()) -&gt; boolean()</tt><br></p>
</div><p><p>Check if character is <code>user-unreserved</code> character</p>
 
  <pre>  user-unreserved  =  "&amp;" / "=" / "+" / "$" / "," / ";" / "?" / "/"</pre></p>

<h3 class="function"><a name="parse_comment_string-1">parse_comment_string/1</a></h3>
<div class="spec">
<p><tt>parse_comment_string(Bin::binary()) -&gt; {CommentStr::binary(), Rest::binary()}</tt><br></p>
</div><p><p>Parse <code>comment</code> from the UTF-8 binary string</p>
 
  Extract <code>comment</code> from the UTF-8 binary and return it "as is".</p>

<h3 class="function"><a name="parse_host_port-1">parse_host_port/1</a></h3>
<div class="spec">
<p><tt>parse_host_port(Bin::binary()) -&gt; {Host::string() | <a href="inet.html#type-ip_address">inet:ip_address()</a>, Port::integer() | undefined, Rest::binary()}</tt><br></p>
</div><p><p>Parse <code>host [":" port]</code> expressions</p>
 
  <pre>  hostport       =  host [ ":" port ]
  host           =  hostname / IPv4address / IPv6reference
  hostname       =  *( domainlabel "." ) toplabel [ "." ]
  domainlabel    =  alphanum
                    / alphanum *( alphanum / "-" ) alphanum
  toplabel       =  ALPHA / ALPHA *( alphanum / "-" ) alphanum
  IPv4address    =  1*3DIGIT "." 1*3DIGIT "." 1*3DIGIT "." 1*3DIGIT
  IPv6reference  =  "[" IPv6address "]"
  IPv6address    =  hexpart [ ":" IPv4address ]
  hexpart        =  hexseq / hexseq "::" [ hexseq ] / "::" [ hexseq ]
  hexseq         =  hex4 *( ":" hex4)
  hex4           =  1*4HEXDIG
  port           =  1*DIGIT</pre></p>

<h3 class="function"><a name="parse_ip_address-1">parse_ip_address/1</a></h3>
<div class="spec">
<p><tt>parse_ip_address(Bin::binary()) -&gt; {ok, <a href="inet.html#type-ip_address">inet:ip_address()</a>} | {error, Reason::term()}</tt><br></p>
</div><p><p>Parse IP address</p>
 
  <pre>  IPv4address    =  1*3DIGIT "." 1*3DIGIT "." 1*3DIGIT "." 1*3DIGIT
  IPv6address    =  hexpart [ ":" IPv4address ]
  hexpart        =  hexseq / hexseq "::" [ hexseq ] / "::" [ hexseq ]
  hexseq         =  hex4 *( ":" hex4)
  hex4           =  1*4HEXDIG</pre></p>

<h3 class="function"><a name="parse_number-1">parse_number/1</a></h3>
<div class="spec">
<p><tt>parse_number(Bin::binary()) -&gt; {integer(), binary()}</tt><br></p>
</div><p>Parse number from the binary and return the rest</p>

<h3 class="function"><a name="parse_quoted_string-1">parse_quoted_string/1</a></h3>
<div class="spec">
<p><tt>parse_quoted_string(Bin::binary()) -&gt; {QuotedStr::binary(), Rest::binary()}</tt><br></p>
</div><p><p>Parse <code>quoted-string</code> from the UTF-8 binary string</p>
 
  Extract <code>quoted-string</code> from the UTF-8 binary, unquote it
  and return the rest. Note that leading whitespaces are skipped and
  the rest is returned with leading whitespaces trimmed (rest is
  either empty binary or starts with non-whitespace character).</p>

<h3 class="function"><a name="parse_token-1">parse_token/1</a></h3>
<div class="spec">
<p><tt>parse_token(Bin::binary()) -&gt; {binary(), binary()}</tt><br></p>
</div><p><p>Extract <code>token</code> from the UTF-8 binary string</p>
 
  Extract <code>token</code> from the UTF-8 binary and return the rest. Note
  that leading whitespaces are skipped and the rest is returned
  with leading whitespaces trimmed (rest is either empty binary or
  starts with non-whitespace character).</p>

<h3 class="function"><a name="parse_until-2">parse_until/2</a></h3>
<div class="spec">
<p><tt>parse_until(Bin::binary(), Char::fun((char()) -&gt; boolean()) | char()) -&gt; {Result::binary(), Rest::binary()}</tt><br></p>
</div><p>Parse binary until given predicate function evaluates to <code>true</code> or until given character is encountered</p>

<h3 class="function"><a name="parse_while-2">parse_while/2</a></h3>
<div class="spec">
<p><tt>parse_while(Bin::binary(), Fun::fun((char()) -&gt; boolean())) -&gt; {Result::binary(), Rest::binary()}</tt><br></p>
</div><p>Parse binary while given predicate function evaluates to <code>true</code></p>

<h3 class="function"><a name="quote_string-1">quote_string/1</a></h3>
<div class="spec">
<p><tt>quote_string(Bin::binary()) -&gt; binary()</tt><br></p>
</div><p><p>Generate quoted string</p>
 
  Generate valid quoted-string by replacing all <code>\</code> and <code>"</code> occurences
  with escaped pair.</p>

<h3 class="function"><a name="to_lower-1">to_lower/1</a></h3>
<div class="spec">
<p><tt>to_lower(Bin::binary()) -&gt; binary()</tt><br></p>
</div><p>Convert binary UTF-8 encoded string to lowercase. Note that only
  latin1 characters are actually converted.</p>

<h3 class="function"><a name="to_upper-1">to_upper/1</a></h3>
<div class="spec">
<p><tt>to_upper(Bin::binary()) -&gt; binary()</tt><br></p>
</div><p>Convert binary UTF-8 encoded string to uppercase. Note that only
  latin1 characters are actually converted.</p>

<h3 class="function"><a name="trim-1">trim/1</a></h3>
<div class="spec">
<p><tt>trim(Bin::binary()) -&gt; binary()</tt><br></p>
</div><p>Trim both trailing and leading whitespaces from the binary string</p>

<h3 class="function"><a name="trim_leading-1">trim_leading/1</a></h3>
<div class="spec">
<p><tt>trim_leading(Bin::binary()) -&gt; binary()</tt><br></p>
</div><p>Trim leading whitespaces from the binary string</p>

<h3 class="function"><a name="trim_trailing-1">trim_trailing/1</a></h3>
<div class="spec">
<p><tt>trim_trailing(Bin::binary()) -&gt; binary()</tt><br></p>
</div><p>Trim trailing whitespaces from the binary string</p>
<hr>

<div class="navbar"><a name="#navbar_bottom"></a><table width="100%" border="0" cellspacing="0" cellpadding="2" summary="navigation bar"><tr><td><a href="overview-summary.html" target="overviewFrame">Overview</a></td><td><a href="http://www.erlang.org/"><img src="erlang.png" align="right" border="0" alt="erlang logo"></a></td></tr></table></div>
<p><i>Generated by EDoc, Sep 5 2011, 15:04:58.</i></p>
</body>
</html>
